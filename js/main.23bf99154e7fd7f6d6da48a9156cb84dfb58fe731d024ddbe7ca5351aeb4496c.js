(()=>{document.addEventListener("DOMContentLoaded",()=>{v()});function v(){document.querySelectorAll(".projects-carousel").forEach(r=>{k(r,".project-card")}),document.querySelectorAll(".talks-carousel").forEach(r=>{k(r,".talk-card")})}function k(o,u){let r=o.querySelector(".projects-carousel-track, .talks-carousel-track"),i=o.parentElement.querySelector(".carousel-prev"),s=o.parentElement.querySelector(".carousel-next"),n=o.parentElement.querySelector(".carousel-indicators");if(!r)return;let f=Array.from(r.querySelectorAll(u));if(f.length===0)return;let a=1;if(u===".project-card"){let t=o.closest(".project-type-section");t&&t.classList.contains("project-type-gnome")?a=3:a=2}let l=Math.ceil(f.length/a),e=0;if(n){n.innerHTML="";for(let t=0;t<l;t++){let c=document.createElement("button");c.classList.add("carousel-indicator"),c.setAttribute("aria-label",`Go to page ${t+1}`),t===0&&c.classList.add("active"),c.addEventListener("click",()=>g(t)),n.appendChild(c)}}function d(){let t=100/a,c=-e*t*a;r.style.transform=`translateX(${c}%)`,n&&n.querySelectorAll(".carousel-indicator").forEach((L,h)=>{L.classList.toggle("active",h===e)}),i&&(i.disabled=e===0),s&&(s.disabled=e===l-1)}function g(t){e=Math.max(0,Math.min(t,l-1)),d()}function p(){e<l-1&&(e++,d())}function y(){e>0&&(e--,d())}s&&s.addEventListener("click",p),i&&i.addEventListener("click",y),o.addEventListener("keydown",t=>{t.key==="ArrowLeft"?y():t.key==="ArrowRight"&&p()}),d()}console.log("Portfolio site loaded");})();
