(()=>{document.addEventListener("DOMContentLoaded",()=>{j()});function j(){document.querySelectorAll(".projects-carousel").forEach(s=>{g(s,".project-card")}),document.querySelectorAll(".talks-carousel").forEach(s=>{g(s,".talk-card")})}function g(o,a){let s=o.querySelector(".projects-carousel-track, .talks-carousel-track"),l=o.parentElement.querySelector(".carousel-prev"),d=o.parentElement.querySelector(".carousel-next"),p=o.closest(".project-type-section, .talks-section"),r=p?.querySelector(".carousel-indicators");if(!s)return;let f=Array.from(s.querySelectorAll(a));if(f.length===0)return;let i=1;if(a===".project-card"){let t=o.closest(".project-type-section");t&&t.classList.contains("project-type-projects")?i=3:i=2}let n=Math.ceil(f.length/i);console.log("Carousel initialized:",{cardSelector:a,cardsCount:f.length,itemsPerPage:i,totalPages:n,sectionClass:p?.className,hasIndicatorContainer:!!r});let e=0;if(r){r.innerHTML="";for(let t=0;t<n;t++){let c=document.createElement("button");c.classList.add("carousel-indicator"),c.setAttribute("aria-label",`Go to page ${t+1}`),t===0&&c.classList.add("active"),c.addEventListener("click",()=>C(t)),r.appendChild(c)}}function u(){let t=100/i,c=-e*t*i;s.style.transform=`translateX(${c}%)`,r&&r.querySelectorAll(".carousel-indicator").forEach((h,L)=>{h.classList.toggle("active",L===e)}),l&&(l.disabled=e===0),d&&(d.disabled=e===n-1)}function C(t){e=Math.max(0,Math.min(t,n-1)),u()}function y(){e<n-1&&(e++,u())}function k(){e>0&&(e--,u())}d&&d.addEventListener("click",y),l&&l.addEventListener("click",k),o.addEventListener("keydown",t=>{t.key==="ArrowLeft"?k():t.key==="ArrowRight"&&y()}),u()}console.log("Portfolio site loaded");})();
