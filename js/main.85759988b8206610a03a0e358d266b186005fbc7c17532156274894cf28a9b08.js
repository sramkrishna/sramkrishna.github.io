(()=>{document.addEventListener("DOMContentLoaded",()=>{v()});function v(){document.querySelectorAll(".projects-carousel").forEach(r=>{y(r,".project-card")}),document.querySelectorAll(".talks-carousel").forEach(r=>{y(r,".talk-card")})}function y(a,d){let r=a.querySelector(".projects-carousel-track, .talks-carousel-track"),c=a.parentElement.querySelector(".carousel-prev"),i=a.parentElement.querySelector(".carousel-next"),n=a.parentElement.querySelector(".carousel-indicators");if(!r)return;let f=Array.from(r.querySelectorAll(d));if(f.length===0)return;let u=d===".project-card"?2:1,s=Math.ceil(f.length/u),t=0;if(n){n.innerHTML="";for(let e=0;e<s;e++){let o=document.createElement("button");o.classList.add("carousel-indicator"),o.setAttribute("aria-label",`Go to page ${e+1}`),e===0&&o.classList.add("active"),o.addEventListener("click",()=>g(e)),n.appendChild(o)}}function l(){let e=100/u,o=-t*e*u;r.style.transform=`translateX(${o}%)`,n&&n.querySelectorAll(".carousel-indicator").forEach((h,L)=>{h.classList.toggle("active",L===t)}),c&&(c.disabled=t===0),i&&(i.disabled=t===s-1)}function g(e){t=Math.max(0,Math.min(e,s-1)),l()}function p(){t<s-1&&(t++,l())}function k(){t>0&&(t--,l())}i&&i.addEventListener("click",p),c&&c.addEventListener("click",k),a.addEventListener("keydown",e=>{e.key==="ArrowLeft"?k():e.key==="ArrowRight"&&p()}),l()}console.log("Portfolio site loaded");})();
