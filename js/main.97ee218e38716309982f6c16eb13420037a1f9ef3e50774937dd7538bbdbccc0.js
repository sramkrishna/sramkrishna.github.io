(()=>{document.addEventListener("DOMContentLoaded",()=>{j()});function j(){let t=document.querySelectorAll(".projects-carousel");console.log("Found",t.length,"project carousels"),t.forEach((s,i)=>{console.log("Initializing project carousel",i+1,"of",t.length),k(s,".project-card")});let c=document.querySelectorAll(".talks-carousel");console.log("Found",c.length,"talks carousels"),c.forEach((s,i)=>{console.log("Initializing talks carousel",i+1,"of",c.length),k(s,".talk-card")})}function k(t,c){let s=t.querySelector(".projects-carousel-track, .talks-carousel-track"),i=t.parentElement.querySelector(".carousel-prev"),d=t.parentElement.querySelector(".carousel-next"),g=t.closest(".project-type-section, .talks-section"),o=g?.querySelector(".carousel-indicators");if(!s)return;let f=Array.from(s.querySelectorAll(c));if(f.length===0)return;let a=1;if(c===".project-card"){let e=t.closest(".project-type-section");e&&e.classList.contains("project-type-projects")?a=3:a=2}let r=Math.ceil(f.length/a);console.log("Carousel initialized:",{cardSelector:c,cardsCount:f.length,itemsPerPage:a,totalPages:r,sectionClass:g?.className,hasIndicatorContainer:!!o});let n=0;if(o){console.log("Before clearing indicators:",o.children.length),o.innerHTML="",console.log("Creating",r,"indicators");for(let e=0;e<r;e++){let l=document.createElement("button");l.classList.add("carousel-indicator"),l.setAttribute("aria-label",`Go to page ${e+1}`),e===0&&l.classList.add("active"),l.addEventListener("click",()=>y(e)),o.appendChild(l),console.log("Added indicator",e+1,"of",r,"- container now has",o.children.length,"children")}}function u(){let e=100/a,l=-n*e*a;s.style.transform=`translateX(${l}%)`,o&&o.querySelectorAll(".carousel-indicator").forEach((C,L)=>{C.classList.toggle("active",L===n)}),i&&(i.disabled=n===0),d&&(d.disabled=n===r-1)}function y(e){n=Math.max(0,Math.min(e,r-1)),u()}function h(){n<r-1&&(n++,u())}function p(){n>0&&(n--,u())}d&&d.addEventListener("click",h),i&&i.addEventListener("click",p),t.addEventListener("keydown",e=>{e.key==="ArrowLeft"?p():e.key==="ArrowRight"&&h()}),u(),setTimeout(()=>{console.log("After initialization, indicator container has",o?.children.length,"children")},0)}console.log("Portfolio site loaded");})();
