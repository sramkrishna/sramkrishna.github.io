(()=>{document.addEventListener("DOMContentLoaded",()=>{j()});function j(){let t=document.querySelectorAll(".projects-carousel");console.log("Found",t.length,"project carousels"),t.forEach((s,n)=>{console.log("Initializing project carousel",n+1,"of",t.length),k(s,".project-card")});let i=document.querySelectorAll(".talks-carousel");console.log("Found",i.length,"talks carousels"),i.forEach((s,n)=>{console.log("Initializing talks carousel",n+1,"of",i.length),k(s,".talk-card")})}function k(t,i){let s=t.querySelector(".projects-carousel-track, .talks-carousel-track"),n=t.parentElement.querySelector(".carousel-prev"),d=t.parentElement.querySelector(".carousel-next"),g=t.closest(".project-type-section, .talks-section"),c=g?.querySelector(".carousel-indicators");if(!s)return;let f=Array.from(s.querySelectorAll(i));if(f.length===0)return;let a=1;if(i===".project-card"){let e=t.closest(".project-type-section");e&&e.classList.contains("project-type-projects")?a=3:a=2}let r=Math.ceil(f.length/a);console.log("Carousel initialized:",{cardSelector:i,cardsCount:f.length,itemsPerPage:a,totalPages:r,sectionClass:g?.className,hasIndicatorContainer:!!c});let o=0;if(c){console.log("Before clearing indicators:",c.children.length),c.innerHTML="",console.log("Creating",r,"indicators");for(let e=0;e<r;e++){let l=document.createElement("button");l.classList.add("carousel-indicator"),l.setAttribute("aria-label",`Go to page ${e+1}`),e===0&&l.classList.add("active"),l.addEventListener("click",()=>y(e)),c.appendChild(l),console.log("Added indicator",e+1,"of",r,"- container now has",c.children.length,"children")}}function u(){let e=100/a,l=-o*e*a;s.style.transform=`translateX(${l}%)`,c&&c.querySelectorAll(".carousel-indicator").forEach((C,L)=>{C.classList.toggle("active",L===o)}),n&&(n.disabled=o===0),d&&(d.disabled=o===r-1)}function y(e){o=Math.max(0,Math.min(e,r-1)),u()}function h(){o<r-1&&(o++,u())}function p(){o>0&&(o--,u())}d&&d.addEventListener("click",h),n&&n.addEventListener("click",p),t.addEventListener("keydown",e=>{e.key==="ArrowLeft"?p():e.key==="ArrowRight"&&h()}),u()}console.log("Portfolio site loaded");})();
